# Requirements specifiques pour le MODE OFFLINE
# =============================================
# Ces packages sont necessaires pour utiliser les modeles locaux
# (Mistral-7B, BGE-M3, BGE-Reranker, Donut-base)
#
# Installation:
#   pip install -r requirements-offline.txt
#
# Note: PyTorch avec CUDA doit etre installe separement selon votre GPU
# Voir install_pytorch_cuda.bat ou les instructions ci-dessous

# =============================================
# CORE ML LIBRARIES
# =============================================

# PyTorch (installer via install_pytorch_cuda.bat pour le support GPU)
# torch>=2.0.0
# torchvision>=0.15.0
# torchaudio>=2.0.0

# Transformers et outils Hugging Face
transformers>=4.35.0
accelerate>=0.24.0
safetensors>=0.4.0
tokenizers>=0.14.0
huggingface-hub>=0.19.0

# Tokenizers
sentencepiece>=0.1.99
protobuf>=3.20.0

# Quantification (optionnel - pour GPU avec VRAM limitee)
# Decommenter si vous avez un GPU NVIDIA et voulez la quantification 4-bit/8-bit
# bitsandbytes>=0.41.0

# =============================================
# SCIENTIFIC COMPUTING
# =============================================
numpy>=1.24.0
scipy>=1.11.0

# =============================================
# IMAGE PROCESSING (pour OCR Donut)
# =============================================
Pillow>=10.0.0

# =============================================
# GPU MEMORY MANAGEMENT
# =============================================
# Pour surveiller l'utilisation GPU
# nvidia-ml-py3>=7.352.0  # Optionnel

# =============================================
# NOTES D'INSTALLATION
# =============================================
#
# 1. INSTALLER PYTORCH AVEC CUDA:
#    ---------------------------
#    Executez install_pytorch_cuda.bat ou utilisez les commandes suivantes:
#
#    Pour CUDA 11.8 (Windows):
#    pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
#
#    Pour CUDA 12.1 (Windows):
#    pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121
#
#    Pour CPU uniquement:
#    pip install torch torchvision torchaudio
#
# 2. MODELES REQUIS:
#    ---------------
#    Les modeles doivent etre telecharges dans:
#    - LLM:       D:\IA_Test\models\mistralai\Mistral-7B-Instruct-v0.3
#    - Embeddings: D:\IA_Test\models\BAAI\bge-m3
#    - Reranker:   D:\IA_Test\models\BAAI\bge-reranker-v2-m3
#    - OCR:        D:\IA_Test\models\donut-base
#
# 3. VRAM RECOMMANDEE:
#    -----------------
#    - RTX 4060 (8GB):  Quantification 4-bit recommandee
#    - RTX 4070 (12GB): Float16 sans quantification
#    - RTX 4080 (16GB): Float16 optimal
#    - RTX 4090 (24GB): Float16 optimal, batch size eleve
#
# 4. VERIFICATION CUDA:
#    ------------------
#    python -c "import torch; print(f'CUDA: {torch.cuda.is_available()}')"
#    python -c "import torch; print(f'GPU: {torch.cuda.get_device_name(0) if torch.cuda.is_available() else \"None\"}')"
